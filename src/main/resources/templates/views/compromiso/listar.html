<!DOCTYPE html>
<html xmlns:th="https://wwww.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/mobius1/vanilla-Datatables@latest/vanilla-dataTables.min.js"></script>
    <link rel="stylesheet" type="text/css" th:href="@{../assets/css/estilos1.css}">
    <title>LISTADO</title>
</head>
<body>
  
  <header>
    <nav>
        <ul>
            <li class="nav-item"><a  th:href="@{/index}"><B>VOLVER</B></a></li> 
            <li><a class="nav-item" th:href="@{/tipocompromiso/listar}"><i class="bi bi-card-list">tipo compromiso</i></a></li>
            
        </ul>
    </nav>
    
</header>


<div class="flex-fill flex-grow-1 ms-3">

  <center><h1><font face="Comic Sans MS,arial,verdana">LISTA DE COMPROMISOS</font></h1></center>
  <a type="button" class="btn btn-outline-dark" th:href="@{/compromiso/registrar}">
    <i class="bi bi-bookmark-plus-fill"></i>
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark-plus-fill" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5zm6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5V4.5z"/>
      </svg>  
  Agregar Compromiso
  </a>
<br>
 <table class="table table-hover table-bordered" id="datat">
 
        <tr>
            <th>#</th>
            <th>Numero Factura</th>
            <th>Nombre Empresa</th>
            <th>Fecha Pago</th>
            <th>Fecha Suspension</th>
            <th>Metodo Pago</th>
            <th>Total</th>
            <th>Usuario</th>
            <th>Tipo Compromiso</th>
            <th><center>Estado</center></th>            
            <th colspan="2"><center>Acciones</center></th>
        </tr>
        
        <tr th:if="${compromiso.size()>0}" th:each="g:${compromiso}">       
          <td th:text="${g.idCom}"></td>
          <td th:text="${g.numeroFac}"></td>
          <td th:text="${g.nombreEm}"></td>
          <td th:text="${g.fecha}"></td>
          <td th:text="${g.fechaS}"></td>
          <td th:text="${g.metodo}"></td>
          <td th:text="${g.Total}"></td>
          <td th:text="${g.Usuario.nombreUsuario}"></td>
          <td th:text="${g.TipoCompromiso.nombre}"></td> 
           <td th:if="${g.estadoCom==false}"> 
           <span class="badge bg-danger active"></span>Por Pagar</span> 
            </td>
        
        
            <td>
               <a album="button"
               th:href="@{/compromiso/actualizar/}+${g.idCom}" 
               class="btn btn-outline-dark"
               onclick="alert('¿Seguro quiere editar el compromiso?, no hay marcha atras')">
               <i class="bi bi-bag-heart"></i> 
               <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bag-heart" viewBox="0 0 16 16">
               <path fill-rule="evenodd" d="M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5v-.5Zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0ZM14 14V5H2v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1ZM8 7.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z"/>
               </svg>
               Editar
               </a>
               <br>
               <br>
           
               <a album="button" 
               th:href="@{/compromiso/delete/} + ${g.idCom}"
               class="btn btn-outline-dark" 
                   onclick="alert('¿Seguro ha pagado el compromiso ?, no hay marcha atras')">
                   <i class="bi bi-bag-heart-fill"></i>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bag-heart-fill" viewBox="0 0 16 16">
            <path d="M11.5 4v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5ZM8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1Zm0 6.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z"/>
          </svg> 
                  Pago 
                   </a>
             
             </td>
             
            </tr>


            <script>

                var datat=document.querySelector("#datat"); 
                var dataTable=new DataTable("#datat",{ 
                  perPage:10,
                  labels: {
                      placeholder: "Busca por un campo...",
                      perPage: "{select} registros por página",
                      noRows: "No se encontraron registros",
                      info: "Mostrando {start} a {end} de {rows} registros",
                  }
                } ) ;
                
                
                </script>
            
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
</body>
</html>
